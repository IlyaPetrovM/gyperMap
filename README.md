# gyperMap
Engine to add to drawn map several links
Гипер-карта - это проект для создания интерактивных карт на основе изображений. 

# Установка
## Настройка карты
Рисунок карты - растровый файл необходимо разбить на несколько частей, чтобы загрузка страницы происходила быстро. 
Для этого можно воспользоваться сайтом http://www.imgonline.com.ua/cut-photo-into-pieces.php

Необходимо запомнить количество фрагментов по-вертикали и по-горизонтали. 
В нашем случае, сделано 20х20 фрагментов.

Затем, необходимо убедиться, что все фрагменты пронумерованы от 1 до последнего числа и имеют название **map_part_#.jpg**, где # - это номер фрагмента (без нулей спереди).

Затем в файле **map.js** нужно поменять несколько чисел:
```
var pictH = 71, // высота и ширина одного фрагмента в пикселях
			pictW = 96, 
			pictInRow = 20, // количество фрагментов в строке (по-горизонтали)
			pictInCol = 20; // количество фрагментов в строке (по-вертикали)
```			
Изображения нужно сохранить в ту же папку что и **map.js**

Для заполнения неподгруженных частей карты нужно создать изображение с именем **default.jpg** с высотой и шириной такой же как один фрагмент карты.

### Защита паролем
Чтобы защитить карту от спам-ботов и посторонних пользователей при начале редактирования установлена защита паролем.

В файле **server_map.php** введите пароль,который вы хотите использовать для ограничения доступа к редактированию карты.

## Работа с картой
### Перемещение
Чтобы посмотреть карту, которую вы подготовили в предыдущем пункте нужно открыть в браузере файл **map.html**.

Карту можно перемещать мышкой как любой гугл/яндекс мэп. Если в поле зрения появляются неподгруженные области, то скрипт автоматически подгружает их, как только вы отпустите левую клавишу мышки. 

Взаимодействие производится пока что только с помощью компьютерной мыши. С планшета или телефона отредактировать такую карту пока невозможно.
##Добавление
Чтобы начать добавление ссылок на карту нужно нажать на кнопку "С" (Change). Вам будет предложено ввести пароль. Если пароль верный, то кнопка "С" станет зелёного цвета. Все ссылки на карте перестанут работать и карта будет зафиксирована в том положении, в котором вы её установили. 

Чтобы добавить новую ссылку наведите курсор мыши на левый верхний угол объекта, нажмите левую клавишу мыши и,не отпуская её, переведите курсор мыши в нижний правый край объекта, который вы хотели бы отметить. Появится полупрозрачный прямоугольник внутри котрого можно будет написать название объекта, а рядом ввести веб-адрес. После заполнения Названия и адреса нужно нажать на кнопку "ОК", чтобы разметка сохранилась. После этого можно добавить следующий объект. 

Чтобы завершить добавление объектов нужно снова нажать кнопку "С" в левом верхнем углу экрана.
